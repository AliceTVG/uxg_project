{% extends 'uxg/base.html' %}
{% load staticfiles %}
{% block title_block %}
    Home
{% endblock %}
{% block body_block %}
<div>
    <script>
        var create_new_post = "{% url 'uxg:create_new_post' %}";
    </script>

    <div id="create_new_post_button_wrapper">
        <button id="create_new_post_button" onclick="redirectTocreatenewpost()"><strong>+</strong></button>
    </div>

    {% for post in posts %}
        <div class="post">
    
            <div class="post_header">

                {% if post.user.profile.avatar %}
                    <img src="{{ post.user.profile.avatar.url }}" alt="Profile Picture" class="post_profile_pic">
                {% else %}
                    <img src="{% static 'images/default.jpg' %}" alt="Default Avatar" class="post_profile_pic">
                {% endif %}

                <h2 class="post_username"><strong>{{ post.user.username }}</strong></h2>
                <span class="post_timestamp">- {{ post.created_at|date:"Y-m-d H:i" }} </span>
            </div>

            <div class="post_content">
                <p>{{ post.content }}</p>
            </div>

            {% if post.image %}
                <div class="post_image">
                    <img id="post_image" src="{{ post.image.url }}" alt="Post Image">
                </div>
            {% endif %}
        </div>

        <div class="post_seperator">

        </div>
    {% endfor %}
</div>
{% endblock %}
